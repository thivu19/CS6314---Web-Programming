<!DOCTYPE html>
<html>

<head>
    <title>XML and JSON</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <link rel="stylesheet" type="text/css" href="Ch6.css">
</head>

<body>
    <h2>XML Introduction</h2>
    <h3>What is XML?</h3>
    <p>
        • XML stands for eXtensible Markup Language<br>
        • A markup language much like HTML<br>
        • Designed to store and transport data<br>
        • Designed to be self-descriptive<br>
        • Stores data in plain text format<br>
    </p>
    <h3>Difference Between XML & HTML</h3>
    <p>
        XML is designed to carry data. While HTML is designed to display data.
    </p>
    <h3>How Can XML be Used?</h3>
    <p>
        XML is often used to separate data from presentation and is often a complement
        to HTML.
    </p>
    <h3>XML Syntax Rules</h3>
    <p>
        XML Documents Must Have a Root Element that is the parent of all
        other elements.<br>
        This line is called the XML <strong>prolog</strong>: <code>?xml version="1.0" encoding=“UTF-8"?</code>
        The XML prolog is optional. If it exists, it must come first in the document. XML documents can contain
        international characters, like Norwegian øæå or French êèé. To avoid errors, you should specify the encoding
        used, or
        save your XML files as UTF-8.<br>
        • XML tags are case sensitve<br>
        • XML elements can have attributes in name/value pairs just like in HTML.<br>
    </p>
    <h3>XML DOM</h3>
    <p>
        The XML DOM defines a standard way for accessing and
        manipulating XML documents. It presents an XML document as a
        tree-structure
    </p>
    <p id="demo1"></p>
    <script>
        var parser, xmlDoc;
        var text = "<bookstore><book>" +
            "<title>Everyday Italian</title>" +
            "<author>Giada De Laurentiis</author>" +
            "<year>2005</year>" +
            "</book></bookstore>";

        parser = new DOMParser();
        xmlDoc = parser.parseFromString(text, "text/xml");

        document.getElementById("demo1").innerHTML =
            xmlDoc.getElementsByTagName("title")[0].childNodes[0].nodeValue;
    </script>
    <h3>XML DOM Nodes</h3>
    <p>
        According to the XML DOM, everything in an XML document is a node:<br>
        • The entire document is a document node<br>
        • Every XML element is an element node<br>
        • The text in the XML elements are text nodes<br>
        • Every attribute is an attribute node<br>
        • Comments are comment nodes<br>
    </p>
    <h3>XML DOM - Accessing Nodes</h3>
    <p>
        The getElementsByTagName() Method returns all elements with a specified tag name.<br>
        In the XML DOM, each node is an object. Three important node properties are:<br>
        • nodeName: read-only, an element node is the same as the tag name, an attribute node is the attribute name,
        a text node is always #text, and the document node is always #document<br>
        • nodeValue: element nodes is undefined, text nodes is the text itself, and attribute nodes is the attribute
        value<br>
        • nodeType: read-only and specifies the type of node<br>
    </p>
    <hr>
    <h2>JSON</h2>
    <h3>Introduction</h3>
    <p>
        Receiving Data<br>
        • If you receive data in JSON format, you can convert it into a JavaScript object
    </p>
    <h3>JSON Syntax</h3>
    <p>
        JSON syntax is derived from JavaScript object notation syntax:<br>
        • Data is in name/value pairs<br>
        • Data is separated by commas<br>
        • Curly braces hold objects<br>
        • Square brackets hold arrays<br>
        • JSON data is written as name/value pairs. <code>"name":"John"</code><br>
        • In JSON, keys must be strings, written with double quotes: <code>{"name":"John"}</code><br>
        • In JavaScript, keys can be strings, numbers, or identifier names: <code>{name:"John"}</code>
    </p>
    <h3>JSON vs XML</h3>
    <p>
        • Both JSON and XML can be used to receive data from a web server.
    </p>
    <h3>JSON.parse()</h3>
    <p>
        • When receiving data from a web server, the data is always a string.<br>
        • Parse the data with JSON.parse(), and the data becomes a JavaScript object.<br>
        • Imagine we received this text from a web server<br>
        <code>'{"name":"John", "age":30, "city":"New York"}'</code><br>
        • Use the JavaScript function Jason.parse() to convert text into a JavaScript object:<br>
        <code>var obj = JSON.parse('{"name":"John", "age":30, "city":"New York"}');</code><br>
        • Use the JavaScript object in your page:<br>
        <code>
            *p id="demo"> */p>
            *script>
            document.getElementById("demo").innerHTML = obj.name + ", " + obj.age;
            */script>
        </code>
    </p>
    <h3>JSON.stringify()</h3>
    <p>
        • When sending data to a web server, the data has to be a string.<br>
        • Convert a JavaScript object into a string with JSON.stringify ().<br>
        • Imagine we have this object in JavaScript:<br>
        <code>var obj = {name:"John", age:30, city: "New York"};</code><br>
        • Use the JavaScript function JSON.stringify () to convert it into a string.<br>
        <code>var myJSON = JSON.stringify(obj);</code><br>
        • It is also possible to stringify JavaScript arrays<br>
        • Imagine we have this array in JavaScript:
        <code>var arr = ["John", "Peter", "Sally", "Jane"];</code><br>
        • Use the JavaScript function JSON.stringify () to convert it into a string.<br>
        <code>var myJSON = JSON.stringify(arr);</code>
    </p>
    <h3>JSON Objects</h3>
    <p>
        Object Syntax<br>
        • JSON objects are surrounded by curly braces {}.<br>
        • JSON objects are written in key/value pairs.<br>
        • Keys must be strings, and values must be a valid JSON data type (string, number, object, array,
        boolean or null).<br>
        • Keys and values are separated by a colon.<br>
        • Each key/value pair is separated by a comma.<br>
    </p>
    <h3>Accessing Object Values</h3>
    <p>
        • You can access the object values by using dot (.) notation:<br>
        <code>myObj = {"name":"John", "age":30, "car":null};</code><br>
        <code>x = myObj.name;</code><br>
    <p id="demo1"></p>
    • You can also access the object values by using bracket ([]) notation:<br>
    <code>myObj = {"name":"John", "age":30, "car":null};</code><br>
    <code>x = myObj["name"];</code>
    <p id="demo2"></p>
    </p>
    <script>
        const myJSON = '{"name":"John", "age":30, "car":null}';
        const myObj = JSON.parse(myJSON);
        document.getElementById("demo1").innerHTML = myObj.name;
        document.getElementById("demo2").innerHTML = myObj["name"];
    </script>
    <h3>Looping an Object</h3>
    <p>
        • You can loop through object properties by using the for-in
        loop<br>
        • In a for-in loop, use the bracket notation to access the property
        values<br>
    </p>
    <p id="demo3"></p>
    <script>
        const myJSON3 = '{"name":"John", "age":30, "car":null}';
        const myObj3 = JSON.parse(myJSON3);

        let text3 = "";
        for (const x in myObj3) {
            text3 += x + ", ";
        }
        document.getElementById("demo3").innerHTML = text3;
    </script>
    <h3>Nested JSON Objects</h3>
    <p>
        • Values in a JSON object can be another JSON object.
        • You can access nested JSON objects by using the dot notation
        or bracket notation
    </p>
    <p id="demo4"></p>
    <script>
        const myObj4 = {
            "name":"John",
            "age":30,
            "cars": {
                "car1":"Ford",
                "car2":"BMW",
                "car3":"Fiat"
                }
        }
        document.getElementById("demo4").innerHTML = myObj4.cars.car2;
    </script>
    <h3>Modify Values</h3>
    <p>
        • You can use the dot notation to modify any value in a JSON object:<br>
        <code>myObj.cars.car = "Mercedes";</code><br>
        • You can also use the bracket notation to modify a value in a JSON object:<br>
        <code>myObj.cars["car2"] = "Mercedes";</code>
    </p>
    <h3>Delete Object Properties</h3>
    <p>
        • You can use the delete keyword to delete properties from a JSON object:<br>
        <code>delete myObj.cars.car2;</code>
    </p>
    <h3>JSON Array</h3>
    <p>
        • Arrays in JSON are almost the same as arrays in JavaScript.<br>
        • In JSON, array values must be of type string, number, object, array, boolean or null.<br>
        <code>["Ford", "BMW", "Fiat"]</code><br>
        • In JavaScript, array values can be all of the above, plus any other valid
        JavaScript expression, including functions, dates, and undefined.<br>
        • Arrays in JSON Objects<br>
        <code>
            {
                "name":"John",
                "age":30,
                "cars":["Ford", "BMW", "Fiat"]
            }
        </code><br><hr>
        Accessing Array Values<br>
        • You access the array values by using the index number:<br>
        <code>x = myObj.cars[0];</code><br>
        • Looping Through an Array<br>
        • You can access array values by using a for-in loop:<br>
        <code>
            for (i in myObj.cars) {<br>
                x += myObj.cars[i];<br>
            }<br>
        </code><br>
        • Or you can use a for loop:<br>
        <code>
            for (i = 0; i < myObj.cars.length; i++) {<br>
                x += myObj.cars[i];<br>
            }<br>
        </code>
    </p>
    <h3>Nested Arrays in JSON Objects</h3>
    <p>
        • Values in an array can also be another array, or even another JSON object:<br>
        <code>
            myObj = {<br>
                "name":"John",<br>
                "age":30,<br>
                "cars": [<br>
                    {"name":"Ford", "models":["Fiesta", "Focus", "Mustang"]},<br>
                    {"name":"BMW", "models":["320", "X3", "X5"]},<br>
                    {"name":"Fiat", "models":["500", "Panda"] }<br>
                ]<br>
            }<br>
        </code><br>
        • To access arrays inside arrays, use a for-in loop for each array:<br>
        <code>
            for (let i in myObj.cars) {<br>
                x += myObj.cars[i].name;<br>
                for (let j in myObj.cars[i].models) {<br>
                    x += myObj.cars[i].models[j];<br>
                }<br>
            }<br>
        </code>
    </p>
    <h3>Modify Array Values</h3>
    <p>
        • Modify Array Values: Use the index number to modify an array<br>
        <code>myObj.cars[1] = "Mercedes";</code><br>
        • Delete Array Items: Use the delete keyword to delete items from an array<br>
        <code>delete myObj.cars[1];</code>
    </p>
</body>

</html>